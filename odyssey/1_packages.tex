%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% SPACE SAVERS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \usepackage[small,compact]{titlesec}
%%% left, before, after
% \titlespacing*{\section}{0pt}{3pt}{0pt}
% \titlespacing*{\subsection}{0pt}{2pt}{0pt}
% \textfloatsep 0.08in
% \floatsep 0.06in

%%% Equivalent ways to modify inter-line space
% 1. 
% \usepackage{setspace}
%       \setstretch{0.96} 
% 2. using the LATEX command 
% \linespread{1}
%
% 3. redefining \baselinestretch --> Do not use

%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%% Find a long paragraph with only 1 or 2 words on the last line
% \looseness=-1 immediately after the last word of the paragraph, to ask tex to try to reset that paragraph a line shorter.
% \looseness=-1
%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%% Force a page break at a point tex considers it ugly.
% putting \goodbreak\noindent at the end of an existing line break in a paragraph that is close to a page boundary.

%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Remove the spacing between paragraphs and have a small paragraph indentation
% \setlength{\parskip}{0cm}
% \setlength{\parindent}{1em}

%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Remove space around section headings.
% \usepackage[compact]{titlesec}
% \titlespacing{\section}{0pt}{2ex}{1ex}
% \titlespacing{\subsection}{0pt}{1ex}{0ex}
% \titlespacing{\subsubsection}{0pt}{0.5ex}{0ex}

%%%%%%%%%% Most papers start with "\section{Introduction}"
% This is both boring and redundant (a paper should always start with an introduction). If your introduction does not contain any subsections, just skip the \section command.



%%% PATCH TO FIX NUMBERING (titlesec bug removes numbering)
% https://tex.stackexchange.com/questions/299969/titlesec-loss-of-section-numbering-with-the-new-update-2016-03-15
%\usepackage{etoolbox}
%\makeatletter
%\patchcmd{\ttlh@hang}{\parindent\z@}{\parindent\z@\leavevmode}{}{}
%\patchcmd{\ttlh@hang}{\noindent}{}{}{}
%\makeatother

%%% AMSMATH (align*) SPACING
%\expandafter\def\expandafter\normalsize\expandafter{%
%  \normalsize
%  \setlength\abovedisplayskip{1pt}
%  \setlength\belowdisplayskip{1pt}
%  \setlength\abovedisplayshortskip{1pt}
%  \setlength\belowdisplayshortskip{1pt}
%}


%%% FONTS
% \usepackage{mathptmx} %% Times
% \usepackage[scaled=.90]{helvet} %% Helvetica
% \usepackage{courier} %% Courier

%%%EUROSYS



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% PACKAGES
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%  \PassOptionsToPackage{usenames,dvipsnames, table,xcdraw}{xcolor}

% \usepackage[table,xcdraw]{xcolor}
% \usepackage{cite} %Improved citation handling --- ACM (acmart) REALLY (!) does not like this one
\renewcommand{\arraystretch}{1.25} % Adds some margin in the rows of tables

% \usepackage{etex}
% \usepackage{etoolbox}

% \makeatletter
% \patchcmd{\@afterheading}%
%     {\clubpenalty \@M}{\clubpenalties 3 \@M \@M 0}{}{}
% \patchcmd{\@afterheading}%
%     {\clubpenalty \@clubpenalty}{\clubpenalties 2 \@clubpenalty 0}{}{}
% \makeatother

\usepackage{hhline} % if table has colored cells cline will not work, you ahve to use hhline instead
% \usepackage{soul} % contains \hl
% \usepackage{tcolorbox} % box for the pop quiz

% \usepackage{booktabs} %Publication quality tables
% \usepackage{hyperref}
% \usepackage[capitalize]{cleveref}
% \usepackage{fancyhdr} %Extensive control of page headers and footers
% WARNING: geometry package changes default doc dimensions!!!
% \usepackage{geometry} %Flexible & complete interface to doc dimensions
% \usepackage{listings} %Typeset source code listings
% \usepackage[english]{babel} % For hyphenation
% \usepackage{siunitx}
% \usepackage{url}

% \usepackage{algorithm}
% \usepackage{algpseudocode}
% \usepackage{amsmath}
% \usepackage{amsthm}
% \usepackage{amsfonts}
% \usepackage{amssymb}
% \usepackage{array}
% \usepackage{booktabs}
% \usepackage{boxedminipage}
% \usepackage{calrsfs}
% \usepackage{caption}
% \usepackage{hyperref}
% \usepackage[capitalize]{cleveref}
\usepackage{color}
\usepackage{enumitem}
% \usepackage{fancyhdr}
\usepackage{float}
\usepackage{graphicx}
\hypersetup{
    colorlinks=false,
    pdfborder={0 0 0},
    %pdftitle={Blocking-Resistant Network Services using \systemname},
    %pdfsubject={Network security and privacy; Peer-to-peer, overlay, and content distribution networks},
}
% \usepackage[utf8x]{inputenc}
\usepackage{listings}
% \usepackage[activate={true,nocompatibility},final,tracking=true,kerning=true,spacing=true,factor=1100,stretch=10,shrink=10]{microtype}
\usepackage{multirow}
\usepackage{nicefrac}
% \usepackage{pifont}
% \usepackage[section]{placeins}    DARE~\cite{Poke:2015},\\



\usepackage{sidecap}
\usepackage{subcaption}
% \usepackage{url}
\usepackage{verbatim}
% \usepackage{xspace}
% \usepackage{xcolor}
% \usepackage{tikz} %Create PostScript and PDF graphics
% \usepackage[ff,sets,adversary,keys,primitives,operators,lambda,logic,notions]{style/cryptocode}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% SETTINGS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \lstset{
%   %language=HTML,
%   %basicstyle=\scriptsize\ttfamily,       % the size of the fonts that are used for the code
%   basicstyle=\footnotesize\ttfamily,       % the size of the fonts that are used for the code
%   %numbers=left,                   % where to put the line-numbers
%   numbers=none,                   % where to put the line-numbers
%   numberstyle=\scriptsize,        % the size of the fonts that are used for the line-numbers
%   stepnumber=1,                   % the step between two line-numbers. If it is 1 each line will be numbered
%   numbersep=5pt,                  % how far the line-numbers are from the code
%   backgroundcolor=\color{white},  % choose the background color. You must add \usepackage{color}
%   showspaces=false,               % show spaces adding particular underscores
%   showstringspaces=false,         % underline spaces within strings
%   showtabs=false,                 % show tabs within strings adding particular underscores
%   frame=none,                     % adds a frame around the code
%   tabsize=2,                      % sets default tabsize to 2 spaces
%   captionpos=b,                   % sets the caption-position to bottom
%   breaklines=true,                % sets automatic line breaking
%   breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
%   escapeinside={\%*}{*)},         % if you want to add a comment within your code
%   commentstyle=\color{green},
%   keywordstyle=\color{blue}\bfseries,
%   stringstyle=\color{red}
% }

\lstset{
    float=[*],
    language=C,                % choose the language of the code
    basicstyle=\scriptsize\ttfamily,
    stringstyle=\color{sh_string},
    keywordstyle = \color{sh_keyword}\bfseries,
    commentstyle=\color{sh_comment}\itshape,
    numbers=left,                   % where to put the line-numbers
    numberstyle=\scriptsize,        % the size of the fonts that are used for the line-numbers
    stepnumber=1,                   % the step between two line-numbers. If it is 1 each line will be numbered
    numbersep=5pt,                  % how far the line-numbers are from the code
    backgroundcolor=\color{white},  % choose the background color. You must add \usepackage{color}
    showspaces=false,               % show spaces adding particular underscores
    showstringspaces=false,         % underline spaces within strings
    showtabs=false,                 % show tabs within strings adding particular underscores
    xleftmargin=2em,                % Left margin
    frame=lines,         % adds a frame around the code. none|leftline|topline|bottomline|lines|single|shadowbox
    framexleftmargin=1.5em,         % Margin from frame to line numbers
    framexbottommargin=0em,         % Distance from last text to frame
    morekeywords={in,not,and,or},
    prebreak=\space,                % Line break: insert this character at the end of the top line
    postbreak=\mbox{{\color{blue}\scriptsize$\hookrightarrow$}}, % Line break: blue arrow at the beginning of the bottom line
    breaklines=true,                % sets automatic line breaking
    breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
    tabsize=2,                      % sets default tabsize to 2 spaces
    captionpos=t,                   % sets the caption-position to top
    escapeinside={@}{@}             % Escape sequence @ESCAPED STUFF@
}
\lstdefinelanguage{javascript}{
  keywords={typeof, new, true, false, catch, function, return, null, catch, switch, var, if, in, while, do, else, case, break},
  keywordstyle=\color{blue}\bfseries,
  ndkeywords={class, export, boolean, throw, implements, import, this},
  ndkeywordstyle=\color{black}\bfseries,
  identifierstyle=\color{black},
  sensitive=false,
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{purple}\ttfamily,
  stringstyle=\color{red}\ttfamily,
  morestring=[b]',
  morestring=[b]"
}




